<body>
    <header>
      <div class="row justify-content-center mt-3">
          Configure los estados para las licencias
      </div>
    </header>
<div class="container altaEstadoLicencia mt-4 mx-auto">
  <form [formGroup]="estadoLicenciaForm" (ngSubmit)="onCreate()" >
  <header>
      <div class="row justify-content-center mt-auto">
         Crear Estado para Licencias
      </div>
  </header>
  <div class="form-group">
      <div class="row">
          <div class="col-5">
              <label class= "mt-3" for="Codigo"><b>Codigo Estado Licencia</b></label>
          </div>
          <div class="col-7">
              <input formControlName="codEstadoLicencia" class="form-control codEstadoLicencia-inputs mt-3" maxlength="10"
      [class.validfield]="this.estadoLicenciaForm.get('codEstadoLicencia')?.valid"
      [class.invalidfield]="this.estadoLicenciaForm.get('codEstadoLicencia')?.invalid && this.estadoLicenciaForm.get('codEstadoLicencia')?.touched" type="text" placeholder="Ingrese Codigo del Estado Licencia"/>
      <small *ngIf="!estadoLicenciaForm.get('codEstadoLicencia').valid && estadoLicenciaForm.get('codEstadoLicencia').touched"> Por favor ingrese el codigo de la Licencia </small>   
          </div>
      </div>
  </div>

  <div class="form-group">
      <div class="row">
          <div class="col-5">
              <label class= "mt-3" for="Codigo"><b>Nombre Estado Licencia</b></label>
          </div>
          <div class="col-7">
              <input formControlName="nombreEstadoLicencia" class="form-control nombreEstadoLicencia-inputs mt-3"
      [class.validfield]="this.estadoLicenciaForm.get('nombreEstadoLicencia')?.valid"
      [class.invalidfield]="this.estadoLicenciaForm.get('nombreEstadoLicencia')?.invalid && this.estadoLicenciaForm.get('nombreEstadoLicencia')?.touched" type="text" placeholder="Ingrese Nombre del Estado Licencia"/>
      <small *ngIf="!estadoLicenciaForm.get('nombreEstadoLicencia').valid && estadoLicenciaForm.get('nombreEstadoLicencia').touched"> Por favor ingrese el nombre de la Licencia </small>
    </div>
      </div>
  </div>

  <div class="form-group">
      <div class="row justify-content-center mt-3">
          <div class="col-12">
              <button type="submit" class="btn btn block btn-outline-success" >Crear</button>
          </div>
      </div>
  </div>
  </form>
</div>

<div>
    <div class="row justify-content-center mt-3">
      Estado de Licencias Existentes
    </div>
  </div>
  <div class="searcher justify-content-center mt-3">
    <form >
      <input type="text">
      <input type="submit" value="Buscar">
    </form>
  </div>
  <div class="container mt-3">
    <table class="table table-bordered">
      <thead> 
        <tr>
          <th scope="col" style="display: none;">ID</th>
          <th scope="col">Codigo del Estado Licencia</th>
          <th scope="col">Nombre del Estado Licencia</th>
          <th scope="col">Editar</th>
          <th scope="col">Borrar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let estadosLicencia of estadoLicencia">
          <td style="display: none;">{{estadosLicencia.id}}</td>
          <td>{{estadosLicencia.codEstadoLicencia}}</td>
          <td>{{estadosLicencia.nombreEstadoLicencia}}</td>
          <td><button class="btn btn-outline-warning" (click)="open(estadosLicencia.id)"><i class="fas fa-edit"></i> Editar</button></td>
          <td><button class="btn btn-outline-danger" (click)="borrarEstadoLicencia(estadosLicencia.id)"><i class="fas fa-trash-alt"></i>Eliminar</button></td>
          
        </tr>
      </tbody>
  </table>
  </div>
</body>

<!-- Modal -->
<div class="modal fade" id="exampleModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <div class="modal-title">
          Actualizar Estado para Licencias
       </div>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <form [formGroup]="editEstadoLicenciaForm" (ngSubmit)="onUpdate(newEstadoLicencia.id)">
        
          <input type="hidden" formControlName="id" value="{{newEstadoLicencia.id}}">
          <div class="form-group">
              <div class="row">
                  <div class="col-5">
                      <label class= "mt-3" for="Codigo"><b>Codigo Estado Licencia</b></label>
                  </div>
                  <div class="col-7">
                      <input formControlName="codEstadoLicencia" class="form-control codEstadoLicencia-inputs mt-3" maxlength="10" value="{{newEstadoLicencia.codEstadoLicencia}}"
                  [class.validfield]="this.editEstadoLicenciaForm.get('codEstadoLicencia')?.valid"
                  [class.invalidfield]="this.editEstadoLicenciaForm.get('codEstadoLicencia')?.invalid && this.editEstadoLicenciaForm.get('codEstadoLicencia')?.touched" type="text" placeholder="Ingrese Codigo del Estado Licencia"/>
                  </div>
              </div>
      
          </div>
          <div class="form-group">
              <div class="row">
                  <div class="col-5">
                      <label class= "mt-3" for="Codigo"><b>Nombre Estado Licencia</b></label>
                  </div>
                  <div class="col-7">
                      <input formControlName="nombreEstadoLicencia" class="form-control nombreEstadoLicencia-inputs mt-3" value="{{newEstadoLicencia.nombreEstadoLicencia}}"
                  [class.validfield]="this.editEstadoLicenciaForm.get('nombreEstadoLicencia')?.valid"
                  [class.invalidfield]="this.editEstadoLicenciaForm.get('nombreEstadoLicencia')?.invalid && this.editEstadoLicenciaForm.get('nombreEstadoLicencia')?.touched" type="text" placeholder="Ingrese Nombre del Estado Licencia"/>
                  </div>
              </div>
      
          </div>
        
        <div class="form-group">
          <div class="row justify-content-center mt-3">
              <div class="col-12">
                  <button type="submit" class="btn btn-outline-success btn block" ><b> Actualizar</b></button>
              </div>
          </div>
      </div></form>
        </div>

    </div>
  </div>
  
</div>





